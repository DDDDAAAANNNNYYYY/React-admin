{"ast":null,"code":"import \"antd/es/modal/style/css\";\nimport _Modal from \"antd/es/modal\";\nvar _jsxFileName = \"/Users/danyangliu/Downloads/React-admin/src/component/header/index.jsx\";\nimport React, { Component } from \"react\"; // import { PageHeader } from \"antd\";\n\nimport \"./index.less\";\nimport { formateDate } from \"../../utils/dataUtils\";\nimport memoryUtils from \"../../utils/memoryUtils\";\nimport storageUtils from \"../../utils/storageUtils\";\nimport menuList from \"../../config/menuConfig\"; // import { set } from \"store\";\n\nimport { withRouter } from \"react-router-dom\";\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport LinkButton from '../link-button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  confirm\n} = _Modal;\n\nclass Header extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currentTime: formateDate(Date.now())\n    };\n\n    this.getTime = () => {\n      this.a = setInterval(() => {\n        this.setState({\n          currentTime: formateDate(Date.now())\n        });\n      }, 1000);\n    };\n\n    this.logout = () => {\n      //显示确认框\n      const {\n        history\n      } = this.props; // console.log(history)\n\n      confirm({\n        icon: /*#__PURE__*/_jsxDEV(ExclamationCircleOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 13\n        }, this),\n        content: 'Do you sure login out?',\n\n        onOk() {\n          console.log(this);\n          storageUtils.deleteUser();\n          memoryUtils.user = {};\n          history.replace('/login');\n        },\n\n        onCancel() {\n          console.log('cancel');\n        }\n\n      });\n    };\n\n    this.getTitle = () => {\n      const path = this.props.location.pathname;\n      let title;\n      menuList.forEach(item => {\n        if (item.key === path) {\n          // console.log(item);\n          title = item.title;\n        } else if (item.children) {\n          const cItem = item.children.find(cItem => path.indexOf(cItem.key) === 0);\n\n          if (cItem) {\n            //去除titke\n            title = cItem.title;\n          }\n        }\n      }); // console.log(title)\n\n      return title;\n    };\n  }\n\n  /* 第一次render后立即执行 */\n  componentDidMount() {\n    this.getTime();\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.a);\n  }\n\n  render() {\n    const {\n      currentTime\n    } = this.state;\n    const user = memoryUtils.user.name; //显示当前的title\n\n    const title = this.getTitle(); // console.log('title',title)\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-top\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Welcome \", user, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LinkButton, {\n          onClick: this.logout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-bottom\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-bottom-left\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-bottom-right\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [currentTime, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Header);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/danyangliu/Downloads/React-admin/src/component/header/index.jsx"],"names":["React","Component","formateDate","memoryUtils","storageUtils","menuList","withRouter","ExclamationCircleOutlined","LinkButton","confirm","Header","state","currentTime","Date","now","getTime","a","setInterval","setState","logout","history","props","icon","content","onOk","console","log","deleteUser","user","replace","onCancel","getTitle","path","location","pathname","title","forEach","item","key","children","cItem","find","indexOf","componentDidMount","componentWillUnmount","clearInterval","render","name"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n// import { PageHeader } from \"antd\";\nimport \"./index.less\";\nimport { formateDate } from \"../../utils/dataUtils\";\nimport memoryUtils from \"../../utils/memoryUtils\";\nimport storageUtils from \"../../utils/storageUtils\";\nimport menuList from \"../../config/menuConfig\";\n// import { set } from \"store\";\nimport { withRouter } from \"react-router-dom\";\nimport { Modal } from 'antd';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport LinkButton from '../link-button'\nconst { confirm } = Modal;\nclass Header extends Component {\n  state = {\n    currentTime: formateDate(Date.now()),\n    \n  };\n  getTime = () => {\n    this.a=setInterval(() => {\n      this.setState({ currentTime: formateDate(Date.now()) });\n    }, 1000);\n  };\n  \n  //退出登陆\n  logout=()=>{\n    //显示确认框\n    const {history} = this.props\n    // console.log(history)\n    confirm({\n      icon: <ExclamationCircleOutlined />,\n      content: 'Do you sure login out?',\n      \n      onOk() {\n        console.log(this);\n        \n        storageUtils.deleteUser()\n        memoryUtils.user ={}\n        history.replace('/login')\n      },\n      onCancel() {\n        console.log('cancel');\n      },\n    });\n  }\n  getTitle = () => {\n    const path = this.props.location.pathname;\n    let title;\n    menuList.forEach((item) => {\n      if (item.key === path) {\n        // console.log(item);\n        title = item.title;\n      } else if (item.children) {\n        const cItem = item.children.find((cItem) => path.indexOf(cItem.key)===0);\n        if (cItem) {\n//去除titke\n          title = cItem.title;\n        }\n      }\n    });\n    // console.log(title)\n    return title;\n  };\n  /* 第一次render后立即执行 */\n  componentDidMount() {\n    this.getTime();\n    \n    \n  }\n  componentWillUnmount(){\n    clearInterval(this.a)\n  }\n  render() {\n    const { currentTime} = this.state;\n    const user = memoryUtils.user.name;\n    //显示当前的title\n    const title=this.getTitle();\n    // console.log('title',title)\n    return (\n      <div className=\"header\">\n        <div className=\"header-top\">\n          <span>Welcome {user} </span>\n          <LinkButton onClick={this.logout}>Logout</LinkButton>\n        </div>\n        <div className=\"header-bottom\">\n          <div className=\"header-bottom-left\">\n            <span>{title}</span>\n          </div>\n          <div className=\"header-bottom-right\">\n            <span>{currentTime} </span>\n            \n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Header);\n"]},"metadata":{},"sourceType":"module"}