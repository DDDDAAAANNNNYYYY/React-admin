{"ast":null,"code":"import \"antd/es/message/style/css\";\nimport _message from \"antd/es/message\";\n// 能发送异步ajax请求的函数模块\n// 封装axios\nimport axios from 'axios';\nimport qs from 'qs'; //优化:统一处理请求异常\n//在外层包一个promise对象\n//在请求出错时,补reject(error),自己提示问题\n\nexport default function ajax(url, data = {}, type = \"GET\") {\n  return new Promise((resolve, reject) => {\n    let promise; //1.执行异步ajax请求\n\n    if (type === 'GET') {\n      //发get请求\n      promise = axios.get(url, {\n        //配置对象\n        params: data // 指定请求参数\n\n      });\n    } else {\n      //发post请求\n      promise = axios.post(url, // qs.stringify(data)\n      data);\n    } //2.如果成功,调用resolve\n\n\n    promise.then(response => {\n      resolve(response.data); //3.如果失败,调用reject \n    }).catch(error => {\n      //reject(error)\n      _message.error(\"Something wrong\");\n    });\n  });\n} // ajax('/login',{username:'tom',password:'12345'},'post').then()\n// ajax('/manage/user/add',{username:'tom',password:'12345',phone:'12324525525252'},'post').then()","map":{"version":3,"sources":["/Users/danyangliu/Downloads/React-admin/src/api/ajax.jsx"],"names":["axios","qs","ajax","url","data","type","Promise","resolve","reject","promise","get","params","post","then","response","catch","error"],"mappings":";;AAAA;AACA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,EAAP,MAAe,IAAf,C,CACA;AACA;AACA;;AACA,eAAe,SAASC,IAAT,CAAcC,GAAd,EAAkBC,IAAI,GAAC,EAAvB,EAA0BC,IAAI,GAAC,KAA/B,EAAsC;AAEjD,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAASC,MAAT,KAAkB;AACjC,QAAIC,OAAJ,CADiC,CAEjC;;AACA,QAAGJ,IAAI,KAAG,KAAV,EAAgB;AACZ;AACAI,MAAAA,OAAO,GAAGT,KAAK,CAACU,GAAN,CAAUP,GAAV,EAAc;AAAC;AACrBQ,QAAAA,MAAM,EAACP,IADa,CACR;;AADQ,OAAd,CAAV;AAGH,KALD,MAKK;AAAC;AACFK,MAAAA,OAAO,GAAET,KAAK,CAACY,IAAN,CAAWT,GAAX,EACL;AACAC,MAAAA,IAFK,CAAT;AAIH,KAbgC,CAcjC;;;AACAK,IAAAA,OAAO,CAACI,IAAR,CAAaC,QAAQ,IAAE;AACnBP,MAAAA,OAAO,CAACO,QAAQ,CAACV,IAAV,CAAP,CADmB,CAEX;AACX,KAHD,EAGGW,KAHH,CAGSC,KAAK,IAAE;AACZ;AACA,eAAQA,KAAR,CAAc,iBAAd;AACH,KAND;AAQH,GAvBM,CAAP;AA0BH,C,CAED;AACA","sourcesContent":["// 能发送异步ajax请求的函数模块\n// 封装axios\nimport axios from 'axios'\nimport {message} from 'antd'\nimport qs from 'qs'\n//优化:统一处理请求异常\n//在外层包一个promise对象\n//在请求出错时,补reject(error),自己提示问题\nexport default function ajax(url,data={},type=\"GET\") {\n    \n    return new Promise((resolve,reject)=>{\n        let promise\n        //1.执行异步ajax请求\n        if(type==='GET'){\n            //发get请求\n            promise = axios.get(url,{//配置对象\n                params:data // 指定请求参数\n            })\n        }else{//发post请求\n            promise= axios.post(url,\n                // qs.stringify(data)\n                data\n            )\n        }\n        //2.如果成功,调用resolve\n        promise.then(response=>{\n            resolve(response.data)\n                    //3.如果失败,调用reject \n        }).catch(error=>{\n            //reject(error)\n            message.error(\"Something wrong\")\n        })\n\n    })\n\n    \n}\n\n// ajax('/login',{username:'tom',password:'12345'},'post').then()\n// ajax('/manage/user/add',{username:'tom',password:'12345',phone:'12324525525252'},'post').then()"]},"metadata":{},"sourceType":"module"}